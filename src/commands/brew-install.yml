description: |
    Installs the specified packages via Homebrew

parameters:
    packages:
        description: "Packages to install"
        type: string
    auto-update:
        description: "Disable Homebrew auto updater"
        type: boolean
        default: true
    analytics:
        description: "Disable Homebrew analytics"
        type: boolean
        default: true
steps:
    - run:
        name: Installing Homebrew packages << parameters.packages >>
        command: |
            if [ "<< parameters.analytics >>" = false ]; then
                HOMEBREW_NO_ANALYTICS=1 >> $BASH_ENV
            fi
            if [ "<< parameters.auto-update >>" = false ]; then
                HOMEBREW_NO_AUTO_UPDATE=1 >> $BASH_ENV
            fi
            brew install << parameters.packages >>